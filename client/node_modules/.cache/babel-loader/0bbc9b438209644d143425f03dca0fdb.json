{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_1 = require(\"react\");\n\nclass Razorpay {\n  constructor(options) {\n    this.options = options;\n    if (typeof window !== \"undefined\") this.rzrpayInstannce = new window.Razorpay(this.options);\n  }\n\n  on(event, callback) {\n    this.rzrpayInstannce.on(event, callback);\n  }\n\n  open() {\n    this.rzrpayInstannce.open();\n  }\n\n}\n\nconst useRazorpay = () => {\n  /* Constants */\n  const RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n  const isClient = (0, react_1.useMemo)(() => typeof window !== \"undefined\", []);\n  const checkScriptLoaded = (0, react_1.useCallback)(() => {\n    if (!isClient || !(\"Razorpay\" in window)) return false;\n    return true;\n  }, []);\n  const loadScript = (0, react_1.useCallback)(scriptUrl => {\n    if (!isClient) return; // Don't execute this function if it's rendering on server side\n\n    return new Promise((resolve, reject) => {\n      const scriptTag = document.createElement(\"script\");\n      scriptTag.src = scriptUrl;\n\n      scriptTag.onload = ev => resolve(ev);\n\n      scriptTag.onerror = err => reject(err);\n\n      document.body.appendChild(scriptTag);\n    });\n  }, []);\n  (0, react_1.useEffect)(() => {\n    if (!checkScriptLoaded()) {\n      (() => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n          yield loadScript(RAZORPAY_SCRIPT);\n        } catch (error) {\n          throw new Error(error);\n        }\n      }))();\n    }\n  }, []);\n  return Razorpay;\n};\n\nexports.default = useRazorpay;","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAmEA,MAAM,QAAN,CAAc;AAIZ,EAAA,WAAA,CAAY,OAAZ,EAAoC;AAClC,SAAK,OAAL,GAAe,OAAf;AACA,QAAI,OAAO,MAAP,KAAkB,WAAtB,EACE,KAAK,eAAL,GAAuB,IAAK,MAAc,CAAC,QAApB,CAA6B,KAAK,OAAlC,CAAvB;AACH;;AAEM,EAAA,EAAE,CAAC,KAAD,EAAgB,QAAhB,EAAkC;AACzC,SAAK,eAAL,CAAqB,EAArB,CAAwB,KAAxB,EAA+B,QAA/B;AACD;;AAEM,EAAA,IAAI,GAAA;AACT,SAAK,eAAL,CAAqB,IAArB;AACD;;AAhBW;;AAmBd,MAAM,WAAW,GAAG,MAAK;AACvB;AACA,QAAM,eAAe,GAAG,8CAAxB;AAEA,QAAM,QAAQ,GAAG,CAAA,GAAA,OAAA,CAAA,OAAA,EAAQ,MAAM,OAAO,MAAP,KAAkB,WAAhC,EAA6C,EAA7C,CAAjB;AAEA,QAAM,iBAAiB,GAAkB,CAAA,GAAA,OAAA,CAAA,WAAA,EAAY,MAAK;AACxD,QAAI,CAAC,QAAD,IAAa,EAAE,cAAc,MAAhB,CAAjB,EAA0C,OAAO,KAAP;AAC1C,WAAO,IAAP;AACD,GAHwC,EAGtC,EAHsC,CAAzC;AAKA,QAAM,UAAU,GAAG,CAAA,GAAA,OAAA,CAAA,WAAA,EAAa,SAAD,IAAsB;AACnD,QAAI,CAAC,QAAL,EAAe,OADoC,CAC5B;;AACvB,WAAO,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAoB;AACrC,YAAM,SAAS,GAAG,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAlB;AACA,MAAA,SAAS,CAAC,GAAV,GAAgB,SAAhB;;AACA,MAAA,SAAS,CAAC,MAAV,GAAoB,EAAD,IAAQ,OAAO,CAAC,EAAD,CAAlC;;AACA,MAAA,SAAS,CAAC,OAAV,GAAqB,GAAD,IAAS,MAAM,CAAC,GAAD,CAAnC;;AACA,MAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,SAA1B;AACD,KANM,CAAP;AAOD,GATkB,EAShB,EATgB,CAAnB;AAWA,GAAA,GAAA,OAAA,CAAA,SAAA,EAAU,MAAK;AACb,QAAI,CAAC,iBAAiB,EAAtB,EAA0B;AACxB,OAAC,MAAW,SAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AACV,YAAI;AACF,gBAAM,UAAU,CAAC,eAAD,CAAhB;AACD,SAFD,CAEE,OAAO,KAAP,EAAmB;AACnB,gBAAM,IAAI,KAAJ,CAAU,KAAV,CAAN;AACD;AACF,OANW,CAAZ;AAOD;AACF,GAVD,EAUG,EAVH;AAYA,SAAO,QAAP;AACD,CAnCD;;AAqCA,OAAA,CAAA,OAAA,GAAe,WAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nclass Razorpay {\n    constructor(options) {\n        this.options = options;\n        if (typeof window !== \"undefined\")\n            this.rzrpayInstannce = new window.Razorpay(this.options);\n    }\n    on(event, callback) {\n        this.rzrpayInstannce.on(event, callback);\n    }\n    open() {\n        this.rzrpayInstannce.open();\n    }\n}\nconst useRazorpay = () => {\n    /* Constants */\n    const RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n    const isClient = (0, react_1.useMemo)(() => typeof window !== \"undefined\", []);\n    const checkScriptLoaded = (0, react_1.useCallback)(() => {\n        if (!isClient || !(\"Razorpay\" in window))\n            return false;\n        return true;\n    }, []);\n    const loadScript = (0, react_1.useCallback)((scriptUrl) => {\n        if (!isClient)\n            return; // Don't execute this function if it's rendering on server side\n        return new Promise((resolve, reject) => {\n            const scriptTag = document.createElement(\"script\");\n            scriptTag.src = scriptUrl;\n            scriptTag.onload = (ev) => resolve(ev);\n            scriptTag.onerror = (err) => reject(err);\n            document.body.appendChild(scriptTag);\n        });\n    }, []);\n    (0, react_1.useEffect)(() => {\n        if (!checkScriptLoaded()) {\n            (() => __awaiter(void 0, void 0, void 0, function* () {\n                try {\n                    yield loadScript(RAZORPAY_SCRIPT);\n                }\n                catch (error) {\n                    throw new Error(error);\n                }\n            }))();\n        }\n    }, []);\n    return Razorpay;\n};\nexports.default = useRazorpay;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}