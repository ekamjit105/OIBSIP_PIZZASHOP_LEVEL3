{"ast":null,"code":"export const cartReducer = (state = {\n  cartItems: []\n}, action) => {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      if (action.payload.name === \"Custom Fresh pizza\") {\n        console.log(\"name matched\");\n        return { ...state,\n          cartItems: [...state.cartItems, action.payload]\n        };\n      }\n\n      const alreadyexists = state.cartItems.find(item => item._id === action.payload._id && item.variant === action.payload.variant);\n\n      if (alreadyexists) {\n        console.log(\"name not matched\");\n        return { ...state,\n          cartItems: state.cartItems.map(item => item._id === action.payload._id && item.variant === action.payload.variant ? action.payload : item) //update the item according to id, else copy all items as it is\n\n        };\n      } else {\n        return { ...state,\n          cartItems: [...state.cartItems, action.payload]\n        };\n      }\n\n    case \"DELETE_FROM_CART\":\n      return { ...state,\n        cartItems: state.cartItems.filter(item => item._id !== action.payload._id || item.variant !== action.payload.variant)\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/ekamjit singh/Desktop/oibsip_level3task-main/pizza app/client/src/reducers/cartReducer.js"],"names":["cartReducer","state","cartItems","action","type","payload","name","console","log","alreadyexists","find","item","_id","variant","map","filter"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,CAACC,KAAK,GAAG;AAACC,EAAAA,SAAS,EAAC;AAAX,CAAT,EAAwBC,MAAxB,KAAiC;AACxD,UAAOA,MAAM,CAACC,IAAd;AAEI,SAAK,aAAL;AACI,UAAGD,MAAM,CAACE,OAAP,CAAeC,IAAf,KAAsB,oBAAzB,EAA8C;AAC1CC,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,eAAM,EACF,GAAGP,KADD;AAEFC,UAAAA,SAAS,EAAC,CAAC,GAAGD,KAAK,CAACC,SAAV,EAAqBC,MAAM,CAACE,OAA5B;AAFR,SAAN;AAIH;;AACD,YAAMI,aAAa,GAACR,KAAK,CAACC,SAAN,CAAgBQ,IAAhB,CACfC,IAAD,IAASA,IAAI,CAACC,GAAL,KAAWT,MAAM,CAACE,OAAP,CAAeO,GAA1B,IAAiCD,IAAI,CAACE,OAAL,KAAeV,MAAM,CAACE,OAAP,CAAeQ,OADxD,CAApB;;AAGA,UAAGJ,aAAH,EACA;AACIF,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,eAAM,EACF,GAAGP,KADD;AAEFC,UAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBY,GAAhB,CAAqBH,IAAD,IAC9BA,IAAI,CAACC,GAAL,KAAaT,MAAM,CAACE,OAAP,CAAeO,GAA5B,IAAmCD,IAAI,CAACE,OAAL,KAAeV,MAAM,CAACE,OAAP,CAAeQ,OAAlE,GAA4EV,MAAM,CAACE,OAAnF,GAA6FM,IADlF,CAFT,CAIF;;AAJE,SAAN;AAMH,OATD,MAUI;AACA,eAAM,EACF,GAAGV,KADD;AAEFC,UAAAA,SAAS,EAAC,CAAC,GAAGD,KAAK,CAACC,SAAV,EAAqBC,MAAM,CAACE,OAA5B;AAFR,SAAN;AAIH;;AAEL,SAAK,kBAAL;AACI,aAAM,EACF,GAAGJ,KADD;AAEFC,QAAAA,SAAS,EAACD,KAAK,CAACC,SAAN,CAAgBa,MAAhB,CAAwBJ,IAAD,IAC5BA,IAAI,CAACC,GAAL,KAAaT,MAAM,CAACE,OAAP,CAAeO,GAA5B,IAAmCD,IAAI,CAACE,OAAL,KAAeV,MAAM,CAACE,OAAP,CAAeQ,OAD5D;AAFR,OAAN;;AAMJ;AAAS,aAAOZ,KAAP;AArCb;AAuCH,CAxCM","sourcesContent":["export const cartReducer = (state = {cartItems:[]},action)=>{\n    switch(action.type)\n    {\n        case \"ADD_TO_CART\":\n            if(action.payload.name===\"Custom Fresh pizza\"){\n                console.log(\"name matched\")\n                return{\n                    ...state,\n                    cartItems:[...state.cartItems, action.payload]\n                };\n            }\n            const alreadyexists=state.cartItems.find(\n                (item)=>(item._id===action.payload._id && item.variant===action.payload.variant)\n            )\n            if(alreadyexists)\n            {\n                console.log(\"name not matched\")\n                return{\n                    ...state,\n                    cartItems: state.cartItems.map((item) =>\n                    (item._id === action.payload._id && item.variant===action.payload.variant)? action.payload : item)\n                    //update the item according to id, else copy all items as it is\n                }\n            }\n            else{    \n                return{\n                    ...state,\n                    cartItems:[...state.cartItems, action.payload]\n                };\n            }\n\n        case \"DELETE_FROM_CART\":\n            return{\n                ...state,\n                cartItems:state.cartItems.filter((item)=>(\n                    (item._id !== action.payload._id || item.variant!==action.payload.variant)\n                ))\n            };\n        default: return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}